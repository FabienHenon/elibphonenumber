{erl_opts, [debug_info]}.
{deps, []}.
{eunit_tests, [{dir, "test"}]}.

{port_specs, [{".*", "priv/phonenumber_util_nif.so", ["c_src/*.cpp"],
  [{ env, [
    {".*", "CXXFLAGS", "$CXXFLAGS -fPIC -g -Wall -Wextra -Werror -fno-exceptions -fno-rtti -Wno-missing-field-initializers -Wno-unused-parameter -Os -DI18N_PHONENUMBERS_NO_THREAD_SAFETY"},
    {"(linux|solaris|freebsd|netbsd|openbsd|dragonfly|darwin)", "LDFLAGS", "$LDFLAGS -lstdc++ -l:libphonenumber.a -lboost_system -lboost_thread -lboost_date_time -licui18n -licuuc -lprotobuf"}
  ]}]}]
}.

{pre_hooks,
  [{"(linux|darwin|solaris)", compile, "make -C c_src"},
   {"(freebsd)", compile, "gmake -C c_src"}]}.
{post_hooks,
  [{"(linux|darwin|solaris)", clean, "make -C c_src clean"},
   {"(freebsd)", clean, "gmake -C c_src clean"}]}.
